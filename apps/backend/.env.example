# Database Configuration
# - Local development: Use localhost
# - Docker: docker-compose.yml overrides DB_HOST to 'postgres'
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=password
DB_DATABASE=legal_ai_db

# Server Configuration
# Backend runs on port 3001 to avoid conflict with Next.js frontend on port 3000
PORT=3001

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=1d

# AI Engine Configuration
# - Local development: Use localhost
# - Docker: docker-compose.yml overrides AI_ENGINE_URL to 'http://ai-engine:8000'
AI_ENGINE_URL=http://localhost:8000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Node Environment
NODE_ENV=development

# Email Configuration (SendGrid)
EMAIL_ENABLED=false
SENDGRID_API_KEY=your-sendgrid-api-key-here
EMAIL_FROM_ADDRESS=noreply@legal-ai.com
EMAIL_FROM_NAME=Legal AI Platform

# SendGrid Webhook Configuration
# Get this from SendGrid Event Webhook Settings > Signature Verification
SENDGRID_WEBHOOK_VERIFICATION_KEY=your-webhook-verification-key-here

# Backup Configuration
BACKUP_STORAGE_TYPE=local
BACKUP_LOCAL_PATH=./backups
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=12
BACKUP_RETENTION_DAYS=90

# S3 Backup Configuration (if BACKUP_STORAGE_TYPE=s3)
BACKUP_S3_BUCKET=legal-backups
BACKUP_S3_PREFIX=database-backups
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ENDPOINT=
BACKUP_S3_ACCESS_KEY_ID=
BACKUP_S3_SECRET_ACCESS_KEY=

# PostgreSQL Utilities
PG_DUMP_PATH=pg_dump
PG_RESTORE_PATH=pg_restore

# Temporal Configuration
# - Local development: Use localhost:7233
# - Docker: docker-compose.yml overrides TEMPORAL_CLUSTER_URL to 'temporal:7233'
# - Kubernetes (production): Use temporal-frontend.temporal.svc.cluster.local:7233
TEMPORAL_CLUSTER_URL=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_CLIENT_TIMEOUT=30000
TEMPORAL_TASK_QUEUE=legal-ai-task-queue

# Temporal TLS Configuration (optional, for production)
# Enable TLS for production deployments
# TEMPORAL_TLS_ENABLED=false
# TEMPORAL_SERVER_NAME=temporal.production.local
# TEMPORAL_SERVER_ROOT_CA_CERT_PATH=/etc/tls/ca.crt
# TEMPORAL_CLIENT_CERT_PATH=/etc/tls/client.crt
# TEMPORAL_CLIENT_PRIVATE_KEY_PATH=/etc/tls/client.key

# Temporal Cluster Configuration (production)
# TEMPORAL_CLUSTER_NAME=legal-ai-temporal
# TEMPORAL_HISTORY_SHARDS=512

# Temporal Archival Configuration (production)
# TEMPORAL_ARCHIVE_ENABLED=false
# TEMPORAL_ARCHIVE_BUCKET=temporal-archive-legal-ai
# AWS_REGION=us-east-1
# AWS_ENDPOINT=s3.amazonaws.com

# Temporal UI Configuration
# TEMPORAL_UI_PORT=8088
# TEMPORAL_UI_ENABLED=true
# TEMPORAL_CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Temporal Monitoring Configuration
# TEMPORAL_PROMETHEUS_ENABLED=true
# TEMPORAL_PROMETHEUS_PORT=9090
# TEMPORAL_GRAFANA_USER=admin
# TEMPORAL_GRAFANA_PASSWORD=change-me-in-production

# Temporal Alerting Configuration
# ALERTMANAGER_SLACK_API_URL=https://hooks.slack.com/services/...
# ALERTMANAGER_CRITICAL_EMAIL=ops@yourdomain.com
# ALERTMANAGER_SMARTHOST=smtp.gmail.com:587
# ALERTMANAGER_SMTP_FROM=alertmanager@yourdomain.com
# ALERTMANAGER_SMTP_USERNAME=
# ALERTMANAGER_SMTP_PASSWORD=

# Temporal Observability Configuration
# Stuck activity detection interval (milliseconds)
# Default: 300000 (5 minutes)
TEMPORAL_STUCK_ACTIVITY_CHECK_INTERVAL=300000

# Stuck activity threshold (minutes)
# Activities running longer than this will be flagged as stuck
# Default: 30 minutes
TEMPORAL_STUCK_ACTIVITY_THRESHOLD_MINUTES=30

# Enable Temporal metrics endpoint for Prometheus scraping
# Default: true
TEMPORAL_METRICS_ENDPOINT_ENABLED=true

# Metrics endpoint path (relative to backend URL)
# Default: /metrics/temporal
TEMPORAL_METRICS_ENDPOINT_PATH=/metrics/temporal
