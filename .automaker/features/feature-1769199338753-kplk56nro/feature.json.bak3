{
  "category": "Uncategorized",
  "description": "Fix {\n    \"errors\": [\n        {\n            \"message\": \"insert or update on table \\\"legal_queries\\\" violates foreign key constraint \\\"FK_c173b23bdeb8b4cefceb9ea8325\\\"\",\n            \"locations\": [\n                {\n                    \"line\": 3,\n                    \"column\": 13\n                }\n            ],\n            \"path\": [\n                \"askLegalQuestion\"\n            ],\n            \"extensions\": {\n                \"code\": \"INTERNAL_SERVER_ERROR\",\n                \"stacktrace\": [\n                    \"QueryFailedError: insert or update on table \\\"legal_queries\\\" violates foreign key constraint \\\"FK_c173b23bdeb8b4cefceb9ea8325\\\"\",\n                    \"    at PostgresQueryRunner.query (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/driver/src/driver/postgres/PostgresQueryRunner.ts:325:19)\",\n                    \"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\",\n                    \"    at async InsertQueryBuilder.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/query-builder/src/query-builder/InsertQueryBuilder.ts:164:33)\",\n                    \"    at async SubjectExecutor.executeInsertOperations (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/SubjectExecutor.ts:435:42)\",\n                    \"    at async SubjectExecutor.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/SubjectExecutor.ts:137:9)\",\n                    \"    at async EntityPersistExecutor.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/EntityPersistExecutor.ts:182:21)\",\n                    \"    at async QueriesService.askQuestion (/app/apps/backend/src/modules/queries/services/queries.service.ts:333:24)\"\n                ]\n            }\n        }\n    ],\n    \"data\": null\n}",
  "title": "Fix foreign key constraint violation in legal queries",
  "images": [],
  "imagePaths": [],
  "textFilePaths": [],
  "skipTests": false,
  "model": "claude-opus",
  "thinkingLevel": "none",
  "reasoningEffort": "none",
  "branchName": "002-legal-ai-core",
  "priority": 2,
  "planningMode": "skip",
  "requirePlanApproval": false,
  "dependencies": [],
  "workMode": "current",
  "titleGenerating": false,
  "status": "in_progress",
  "id": "feature-1769199338753-kplk56nro",
  "descriptionHistory": [
    {
      "description": "Fix {\n    \"errors\": [\n        {\n            \"message\": \"insert or update on table \\\"legal_queries\\\" violates foreign key constraint \\\"FK_c173b23bdeb8b4cefceb9ea8325\\\"\",\n            \"locations\": [\n                {\n                    \"line\": 3,\n                    \"column\": 13\n                }\n            ],\n            \"path\": [\n                \"askLegalQuestion\"\n            ],\n            \"extensions\": {\n                \"code\": \"INTERNAL_SERVER_ERROR\",\n                \"stacktrace\": [\n                    \"QueryFailedError: insert or update on table \\\"legal_queries\\\" violates foreign key constraint \\\"FK_c173b23bdeb8b4cefceb9ea8325\\\"\",\n                    \"    at PostgresQueryRunner.query (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/driver/src/driver/postgres/PostgresQueryRunner.ts:325:19)\",\n                    \"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\",\n                    \"    at async InsertQueryBuilder.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/query-builder/src/query-builder/InsertQueryBuilder.ts:164:33)\",\n                    \"    at async SubjectExecutor.executeInsertOperations (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/SubjectExecutor.ts:435:42)\",\n                    \"    at async SubjectExecutor.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/SubjectExecutor.ts:137:9)\",\n                    \"    at async EntityPersistExecutor.execute (/app/node_modules/.pnpm/typeorm@0.3.28_ioredis@5.8.2_pg@8.16.3_ts-node@10.9.2_@types+node@22.19.3_typescript@5.9.3_/node_modules/typeorm/persistence/src/persistence/EntityPersistExecutor.ts:182:21)\",\n                    \"    at async QueriesService.askQuestion (/app/apps/backend/src/modules/queries/services/queries.service.ts:333:24)\"\n                ]\n            }\n        }\n    ],\n    \"data\": null\n}",
      "timestamp": "2026-01-23T20:15:38.788Z",
      "source": "initial"
    }
  ],
  "startedAt": "2026-01-23T20:15:38.881Z"
}